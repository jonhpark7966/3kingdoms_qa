장소가 계책을 내놓으며 말했다. "지금은 군대를 움직일 때가 아닙니다. 한편으로는 서신을 두 통 작성하여 하나는 유장에게 보내고, 다른 하나는 장로에게 보내십시오. 유장에게는 유비가 동오와 결탁하여 서천을 차지하려 한다고 전하고, 장로에게는 병력을 이끌고 형주로 진격하라고 전하십시오. 그러면 유비는 양쪽을 막을 수 없을 것입니다. 이를 통해 우리가 유비를 쉽게 격파할 수 있습니다." 손권은 그 말에 따랐다.

어느 날, 현덕은 가맹관에서 오랜 시간을 보내며 백성들의 마음을 사로잡고 있었다. 갑자기 공명이 보낸 서신을 받았는데, 그 내용은 손부인이 동오로 돌아갔다는 소식이었다. 동시에 조조가 병력을 이끌고 누수로 침공했다는 소식을 들었다. 이에 현덕은 방통과 상의하며 말했다. "조조가 손권을 공격하면, 조조가 이기든 손권이 이기든 결국 형주를 차지하려 할 것입니다. 어떻게 해야 할까요?" 방통이 대답했다. "주군께서는 걱정하지 마십시오. 공명이 있기에 동오는 형주를 침범하지 못할 것입니다. 주군께서는 유장에게 서신을 보내십시오. 조조가 손권을 공격하여 손권이 형주에 도움을 요청할 것이라고 전하고, 우리는 동맹국이니 도울 수밖에 없다고 전하십시오. 그리고 장로는 수비에만 집중할 것이니 우리를 침범하지 못할 것입니다. 지금 형주로 돌아가 손권과 함께 조조를 격파하려면 병력과 식량이 부족합니다. 따라서 동족의 의리를 내세워 유장에게 병력 3만에서 4만과 식량 10만 석을 요청하십시오. 그러면 다시 협의할 수 있을 것입니다." 현덕은 그 말을 따랐다.

현덕은 사람을 보내 성도로 향했다. 관문 앞에 도착하자 양회와 고패가 이 소식을 듣고 고패에게 관문을 지키게 하고, 양회는 사절과 함께 성도로 들어가 유장을 만나 서신을 전달했다. 유장은 서신을 읽고 양회에게 왜 같이 왔느냐고 물었다. 양회가 대답했다. "이 서신 때문에 왔습니다. 유비가 입촉한 이후로 은덕을 베풀어 백성들의 마음을 사로잡고 있어 그 의도가 매우 좋지 않습니다. 지금 병력과 식량을 요청하고 있는데 이를 제공해서는 안 됩니다. 그렇게 하면 불길을 더하는 것과 같습니다." 유장은 말했다. "나는 현덕과 형제의 정이 있는데 어찌 도울 수 없겠소?" 한 사람이 나서며 말했다. "유비는 교활한 자입니다. 오랫동안 촉에 머물러 있으면서 쫓아내지 않은 것은 호랑이를 집 안에 들인 것입니다. 이제 병력과 식량까지 지원하면 호랑이에게 날개를 달아주는 것과 다름없습니다." 모두가 그 사람을 바라보니 이름은 유바, 자는 자초였다. 유장은 유바의 말을 듣고 주저하고 있었다. 황권도 거듭 간언하였다. 유장은 결국 노약한 병사 4천 명과 쌀 1만 석을 보내기로 하고, 서신을 보내 현덕에게 알렸다. 또한 양회와 고패에게 관문을 굳게 지키라고 명령했다.

유장의 사자가 가맹관에 도착하여 현덕을 만나 회신을 전달했다. 현덕은 크게 화를 내며 말했다. "내가 너희를 위해 적을 막고 힘을 다했건만, 너희는 재물을 아끼고 상을 주지 않으니 어찌 병사들이 목숨을 바치겠는가?" 그러고는 회신을 찢어버리고 크게 꾸짖었다. 사자는 도망쳐 성도로 돌아갔다.

방통이 말했다. "주군께서는 항상 인의를 중시하셨습니다. 오늘 서신을 찢고 화를 내셨으니, 이전의 정은 모두 사라졌습니다." 현덕이 말했다. "그렇다면 어떻게 해야 하겠소?" 방통이 말했다. "세 가지 계책이 있습니다. 주군께서 선택하십시오." 현덕이 그 세 가지 계책이 무엇인지 물었다. 방통이 말했다. "첫째는 지금 즉시 정예 병력을 선발하여 밤낮으로 행군해 성도를 기습하는 것입니다. 이는 상책입니다. 양회와 고패는 촉의 명장이니 강병을 이끌고 관문을 지킬 것입니다. 주군께서 형주로 돌아가는 척하면 두 장수가 배웅하러 올 것이니 그때 그들을 잡아 죽이고 관문을 점령한 후 부성을 먼저 차지하고 나서 성도로 진군하는 것입니다. 이는 중책입니다. 셋째는 백제로 돌아가 밤새 형주로 돌아가 천천히 도모하는 것입니다. 이는 하책입니다. 만약 망설이면 큰 곤경에 처하게 될 것입니다." 현덕이 말했다. "상책은 너무 촉박하고, 하책은 너무 느리오. 중책이 적당하니 이를 따르겠소."

현덕은 유장에게 서신을 보내어 조조가 부장 악진을 보내 청니진에 도착했으니 이를 막기 위해 직접 출전해야 한다고 전했다. 서신이 성도에 도착하자, 장송이 현덕이 형주로 돌아가려 한다는 소식을 듣고 진심으로 믿고 서신을 작성하여 현덕에게 보내려 했다. 마침 그의 형인 광한태수 장숙이 찾아와 장송은 서신을 소매에 숨기고 형과 이야기를 나누었다. 장숙은 장송의 행동이 수상하다고 생각했다. 장송은 술을 권하며 장숙과 함께 마셨다. 그 과정에서 서신이 땅에 떨어졌고 장숙의 하인이 그것을 주웠다. 연회가 끝난 후 하인은 그 서신을 장숙에게 건넸다. 장숙이 서신을 열어보니, 내용은 다음과 같았다. "지난번 제가 황숙께 말씀드린 것은 거짓이 없습니다. 어찌하여 아직도 출발하지 않으십니까? 역으로 취하고 순으로 지키는 것이 옛사람들이 귀하게 여긴 바입니다. 지금 대사는 이미 손안에 있는데 어찌 이를 버리고 형주로 돌아가려 하십니까? 이 말을 들으니 마치 무언가 잃은 것 같습니다. 서신을 받는 즉시 신속히 진군하십시오. 제가 내응하겠으니 절대 실수하지 마십시오!" 장숙은 이를 보고 크게 놀라며 말했다. "내 동생이 우리 가문을 멸망시키려 하는구나. 이를 보고하지 않을 수 없다." 그 밤에 장숙은 서신을 가지고 유장을 찾아가 동생 장송이 유비와 함께 모의하여 서천을 넘기려 한다고 모든 사실을 말했다. 유장은 크게 노하며 말했다. "내가 평소 그를 박대하지 않았건만 어찌하여 반역을 도모한단 말인가!" 곧 명령을 내려 장송의 가족을 모두 체포하여 시장에서 참수하였다.

유장은 장송을 죽인 후 문무백관을 모아 상의하며 말했다. "유비가 내 기반을 빼앗으려 하는데 어찌해야 하겠소?" 황권이 말했다. "일이 시급합니다. 즉시 사람을 보내 각 관문에 알리고 병력을 증강하여 형주의 한 사람도 들어오지 못하게 해야 합니다." 유장은 그 말에 따랐다.별빛 아래 각 관문에 긴급 격문을 보냈다. 현덕이 군사를 이끌고 부성으로 돌아가자, 먼저 사람을 보내 부수관에 알리고 양회와 고패를 불러내어 작별을 고했다. 양회와 고패는 보고를 받고 상의하며 말했다. "현덕이 이번에 돌아오는 것은 어떤 이유일까?" 고패가 말했다. "현덕은 죽어 마땅하다. 우리 각자 몸에 날카로운 칼을 숨기고, 작별 인사를 할 때 그를 찔러 주군의 근심을 없애야 한다." 양회가 말했다. "좋은 계획이다." 두 사람은 오직 수행 군사 200명만 데리고 나와 그를 배웅했고, 나머지는 모두 관문에서 대기했다. 현덕의 대군이 모두 나왔다. 부수강에 도착하자 방통이 말 위에서 현덕에게 말했다. "양회와 고패가 기쁜 마음으로 나오면 의심해 보아야 한다. 그들이 나오지 않으면 군사를 일으켜 곧바로 관문을 취해야 한다. 지체해서는 안 된다." 말을 마치자 돌연 회오리바람이 일어나 앞의 깃발을 쓰러뜨렸다. 현덕이 방통에게 물었다. "이것은 무슨 징조인가?" 방통이 말했다. "이것은 놀라운 소식이다. 양회와 고패가 분명히 암살하려는 의도가 있으니 잘 대비해야 한다." 현덕은 곧 무거운 갑옷을 입고 보검을 차고 대비했다. 사람의 보고에 따르면 양회와 고패 두 장군이 배웅을 위해 온다고 했다. 현덕은 군사를 쉬게 했다. 방통은 위연과 황충에게 명령했다. "관문에서 오는 군사들은 몇 명이든 말과 보병을 막론하고 한 명도 돌려보내지 말라." 두 장군은 명령을 받고 나아갔다. 양회와 고패 두 사람은 각자 몸에 날카로운 칼을 숨기고, 군사 200명을 데리고 양을 끌고 술을 지고 곧바로 군영 앞으로 갔다. 준비된 것이 없음을 보고 속으로 기뻐하며 계략이 성공했다고 생각했다. 장막 안으로 들어가니 현덕이 방통과 함께 앉아 있었다. 두 장군은 목소리를 높여 말했다. "황숙께서 멀리 돌아오신다는 소식을 듣고 특별히 작은 예물을 준비하여 배웅하러 왔습니다." 술을 권하며 현덕에게 말했다. 현덕은 말했다. "두 장군이 관문을 지키느라 수고가 많으니 이 잔을 먼저 드시오." 두 장군이 술을 마신 후 현덕이 말했다. "내게 두 장군과 의논할 비밀스러운 일이 있으니, 다른 사람들은 물러가라." 두 장군이 데려온 200명을 모두 내보냈다. 현덕이 소리쳤다. "좌우에 있는 자들아, 이 두 도적을 잡아라!" 장막 뒤에서 유봉과 관평이 소리를 듣고 나왔다. 양회와 고패는 급히 싸우려 했으나 유봉과 관평이 각각 한 사람씩 붙잡았다. 현덕이 소리쳤다. "주군과 나는 같은 종친인데, 너희 두 사람이 어찌하여 모의하여 친족 간의 정을 해치려 하는가?" 방통이 좌우에게 명하여 그들의 몸을 수색하니, 과연 날카로운 칼이 나왔다. 방통이 소리쳤다. "이 두 사람을 참하라." 현덕이 망설이자 방통이 말했다. "이 두 사람은 본래 주군을 해치려 했으니, 죄가 용서될 수 없습니다." 곧 도부수에게 명하여 양회와 고패를 장막 앞에서 참수했다. 황충과 위연은 이미 200명을 모두 붙잡아 단 한 명도 도망가지 못하게 했다. 현덕은 그들을 불러들여 각각 술을 주어 놀란 마음을 달래주었다. 현덕이 말했다. "양회와 고패는 나와 형제간의 정을 해치려 하고, 날카로운 칼을 숨겨 암살하려 했기 때문에 죽인 것이다. 너희는 죄가 없으니 놀라지 말라." 모두가 절하며 감사를 표했다. 방통이 말했다. "이제 너희들을 길잡이로 삼아 군사를 이끌고 관문을 취하겠다. 각자에게 큰 상을 내릴 것이다." 모두가 동의했다. 그날 밤 200명이 먼저 나아가고 대군이 뒤따랐다. 선봉이 관문 아래에 이르러 외쳤다. "두 장군이 급한 일이 있어 돌아왔으니, 어서 관문을 열라." 성 위에서 듣고 자기들 군사인 줄 알고 즉시 관문을 열었다. 대군이 한꺼번에 들어가 피 한 방울 흘리지 않고 부관을 얻었다. 촉군은 모두 항복했다. 현덕은 각각 큰 상을 내리고 군사를 나누어 앞뒤로 지키게 했다. 다음 날 군사를 위로하고 공청에서 연회를 열었다. 현덕이 술에 취하여 방통을 보고 말했다. "오늘의 모임이 즐거운가?" 방통이 말했다. "남의 나라를 침범하고 즐거워하는 것은 인자한 자의 군사가 아닙니다." 현덕이 말했다. "나는 옛날 무왕이 주왕을 정벌하고, 공을 이루어 즐거워했다는 말을 들었는데, 이것도 인자한 자의 군사가 아니란 말인가? 그대의 말이 도리에 맞지 않으니, 어서 물러가라!" 방통이 크게 웃으며 일어섰다. 좌우도 현덕을 부축하여 후당으로 가서 반나절을 잤다. 술이 깨자 좌우가 방통의 말을 전하니 현덕이 크게 후회했다. 다음 날 옷을 입고 당에 올라 방통을 불러 사죄하며 말했다. "어제는 술에 취하여 말이 거칠었습니다. 부디 마음에 두지 마시오." 방통이 웃으며 아무렇지 않게 말했다. 현덕이 말했다. "어제의 말은 모두 내 잘못이오." 방통이 말했다. "군신이 모두 잘못했는데 어찌 주공만의 잘못이겠소?" 현덕도 크게 웃으며 즐거워했다. 한편 유장이 현덕이 양회와 고패 두 장군을 죽이고 부수관을 점령했다는 소식을 듣고 크게 놀라며 말했다. "정말 이런 일이 일어나다니!" 문무백관을 모아 퇴병책을 의논했다. 황권이 말했다. "밤새 군사를 보내 낙성에 주둔하여 목을 막아야 합니다. 유비가 정예병과 용맹한 장수를 데리고 있어도 지나가지 못할 것입니다." 유장은 유귀, 냉포, 장임, 등현을 불러 5만 대군을 주어 별밤을 타서 낙성을 지키게 하여 유비를 막게 했다. 네 장수가 군사를 이끌고 나서자 유귀가 말했다. "내가 듣기에 금병산에 기이한 사람이 있어 도호는 자허상인인데, 사람의 생사와 귀천을 안다고 합니다. 우리 오늘 군사를 이끌고 금병산을 지나가니, 어찌 그를 찾아가 물어보지 않겠소?" 장임이 말했다. "대장부가 군사를 이끌고 적을 막는데 어찌 산속의 사람을 찾겠소?" 유귀가 말했다. "그렇지 않소. 성인이 이르기를, '지극한 정성은 미리 알 수 있다'고 했소. 우리가 고명한 사람에게 물어보면 길함을 따르고 흉함을 피할 수 있을 것이오."네 사람은 오십여 기사를 이끌고 산 아래에 이르러 나무꾼에게 길을 물었다. 나무꾼은 높은 산 정상에 도사가 거처한다고 가리켰다. 네 사람은 산에 올라 암자 앞에 이르렀고, 도동이 나와 맞이했다. 이름을 묻자, 도동은 암자 안으로 이끌었다. 안에 들어가니 자허상인이 부들 위에 앉아 있었다. 네 사람은 절을 하며 앞으로의 일을 물었다. 자허상인이 말했다. "나는 산야의 폐인일 뿐이니 어찌 흉길을 알겠는가?" 유귀가 다시 절하며 물었다. 자허상인은 도동을 불러 종이와 붓을 가져오게 하여 여덟 구의 말을 적어 유귀에게 주었다. 그 글은 다음과 같았다. "좌룡우봉이 서천으로 날아들고, 어린 봉황은 땅에 떨어지며, 와룡은 하늘로 오른다. 얻는 것이 있으면 잃는 것도 있어야 하니, 하늘의 이치는 당연하다. 기회를 보아 행동하라. 구천에 떨어지지 않도록 하라." 유귀가 다시 물었다. "우리 네 사람의 운명은 어떠한가?" 자허상인은 말했다. "정해진 운명은 피할 수 없으니 더 묻지 말라." 유귀가 다시 물으나, 상인은 눈을 감고 마치 잠이 든 듯이 대답하지 않았다. 네 사람은 산을 내려왔다. 유귀가 말했다. "도사의 말을 믿지 않을 수 없다." 장임이 말했다. "이 미친 노인이 무슨 소용이 있겠는가?" 말을 타고 앞으로 나아갔다. 낙성에 이르러 사람과 군마를 나누어 각처의 요새를 지키게 했다. 유귀가 말했다. "낙성은 성도의 방호막이니, 이것을 잃으면 성도를 지키기 어렵다. 우리 네 사람이 의논하여 두 사람은 성을 지키고, 두 사람은 낙성 앞의 산비탈에 두 개의 진을 쳐서 적군이 성에 접근하지 못하게 하자." 냉포와 등현이 말했다. "우리가 진을 치러 가겠다." 유귀가 크게 기뻐하며 군사 이만을 냉포와 등현에게 나누어 주고 성에서 육십 리 떨어진 곳에 진을 치게 했다. 유귀와 장임은 낙성을 지켰다.

한편, 현덕은 부수관을 얻고 나서 방통과 함께 낙성을 공격할 계획을 세웠다. 어떤 사람이 보고하였다. "유장이 네 장수를 보내어 오늘날 냉포와 등현이 이만 군사를 이끌고 성에서 육십 리 떨어진 곳에 두 개의 큰 진을 쳤습니다." 현덕이 사람들을 모아 물었다. "누가 먼저 공을 세워 두 장수의 진을 탈취할 수 있겠는가?" 노장 황충이 응답했다. "노부가 가겠습니다." 현덕이 말했다. "노장군께서 본부의 군사를 이끌고 낙성으로 가서 냉포와 등현의 진을 탈취하면 반드시 중히 상을 내릴 것이다." 황충이 크게 기뻐하며 본부의 군사를 이끌고 떠나려 했다. 갑자기 한 사람이 나와 말했다. "노장군께서는 연로하신데, 어찌 가시겠습니까? 제가 가겠습니다." 현덕이 보니, 이는 위연이었다. 황충이 말했다. "내가 이미 명령을 받았는데, 어찌 감히 넘보는가?" 위연이 말했다. "노장군께서는 근육과 뼈를 자랑하십니다. 냉포와 등현은 촉의 명장으로 혈기가 왕성하니, 노장군께서 그들을 잡지 못하면 주공의 큰일을 그르칠까 두려워서 제가 대신하겠다는 것입니다." 황충이 크게 화를 내며 말했다. "네가 나를 늙었다고 하니, 나와 무예를 겨루어 보겠는가?" 위연이 말했다. "주공 앞에서 당면하여 겨루어 이긴 자가 가는 것이 어떠한가?" 황충이 계단을 내려오며 작은 칼을 가져오라고 했다. 현덕이 급히 말렸다. "안 된다. 내가 지금 군사를 이끌고 촉을 취하려면 너희 두 사람의 힘이 필요하다. 두 호랑이가 싸우면 반드시 하나는 다칠 것이다. 큰일을 그르칠 것이다. 내가 너희 두 사람을 타이르니, 다투지 말라." 방통이 말했다. "너희 두 사람은 다툴 필요 없다. 냉포와 등현이 두 개의 진을 쳤으니, 너희 두 사람은 각각 본부의 군사를 이끌고 한 진씩 공격하라. 먼저 탈취하는 자가 첫 공을 세우는 것이다." 이렇게 정해 황충은 냉포의 진을, 위연은 등현의 진을 공격하기로 했다. 두 사람은 각각 명을 받고 떠났다. 방통이 말했다. "두 사람이 가면 길에서 다툴까 두렵다. 주공께서 직접 군사를 이끌고 후방을 지원하셔야 한다." 현덕은 방통을 남겨 성을 지키게 하고, 자신은 유봉과 관평을 데리고 오천 군사를 이끌고 뒤따라 출발했다.

황충은 돌아와서 명령을 내리기를, 내일 사경에 밥을 짓고 오경에 출발하여 평명에 진격하여 좌측 산골짜기로 나아가라 했다. 위연은 몰래 사람을 보내어 황충이 언제 출발하는지 알아보게 했다. 보고를 받은 위연은 기뻐하며 군사들에게 이경에 밥을 짓고 삼경에 출발하여 평명에 등현의 진에 도착하라고 명했다. 군사들은 명을 받아 배불리 먹고 말의 방울을 떼고, 사람은 입에 나뭇가지를 물고 깃발과 갑옷을 감추고 몰래 진을 습격했다. 삼경 전후로 진을 향해 나아갔다. 길 중간에서 위연은 생각했다. "단지 등현의 진만 공격하면 능력을 드러낼 수 없다. 차라리 먼저 냉포의 진을 공격한 후에 승리한 군사로 등현의 진을 공격하는 것이 좋겠다. 두 곳의 공을 모두 내 것으로 만들겠다." 말을 타고 명령을 내려 군사들에게 좌측 산길로 가게 했다. 날이 밝아 올 무렵 냉포의 진에 가까이 이르렀다. 군사들에게 잠시 쉬게 하고 금고와 깃발, 창칼 등의 무기를 정렬시켰다. 길목에 있던 작은 군사가 진으로 달려가 냉포에게 보고했다. 냉포는 이미 준비를 하고 있었다. 포성이 울리자마자 삼군이 말을 타고 나와 싸움을 벌였다. 위연은 말을 몰아 칼을 들고 냉포와 맞붙었다. 두 장수는 삼십 합을 싸웠다. 촉군은 두 갈래로 나뉘어 한군을 공격했다. 한군은 밤새 달려와 사람과 말이 기진맥진하여 맞설 수가 없어 후퇴했다. 위연은 뒤가 혼란스러운 것을 듣고 냉포를 버리고 말을 돌려 달아났다. 촉군이 뒤따라 추격하여 한군은 크게 패했다. 오 리도 못 가서 산 뒤로부터 북소리가 땅을 울렸다. 등현이 한 무리의 군사를 이끌고 산골짜기에서 나와 크게 외쳤다. "위연은 빨리 말에서 내려 항복하라!" 위연은 말을 몰아 달아났으나 말이 갑자기 앞다리가 꺾여 무릎을 꿇어 위연을 내던졌다. 등현이 말을 몰아 창을 들고 다가왔다.위연을 찌르려 했으나, 창이 닿기 전에 현덕의 활소리가 들리며 등현이 말에서 떨어졌다. 뒤에서 냉포가 구하러 오려는데, 산비탈에서 큰 장수가 말을 타고 뛰어내리며 큰 소리로 외쳤다. "노장 황충이 여기 있다!" 황충이 칼을 휘두르며 냉포를 공격하니, 냉포는 맞서지 못하고 도망쳤다. 황충은 기세를 타고 추격하여 천군이 대혼란에 빠졌다. 황충은 군사를 이끌고 위연을 구출하고 등현을 죽인 후, 곧바로 진영 앞까지 쫓아갔다. 냉포는 말을 돌려 황충과 다시 싸웠으나, 십여 합도 버티지 못하고 후방에서 군마가 몰려오자 왼쪽 진영을 버리고 오른쪽 진영으로 도망쳤다. 그러나 진영의 깃발이 모두 바뀐 것을 보고 놀라 말을 멈췄다. 앞에는 금갑에 비단옷을 입은 장수가 있었으니, 바로 유현덕이었다. 유현덕이 좌우에 유봉과 관평을 거느리고 외쳤다. "진영은 이미 내가 빼앗았다. 어디로 가려느냐?" 알고 보니 현덕은 뒤에서 군사를 이끌고 와서 등현의 진영을 빼앗은 것이다. 냉포는 앞뒤가 막혀 산 속의 작은 길로 돌아가 낙성으로 가려 했으나, 십 리도 못 가서 좁은 길에 복병이 일어나 냉포를 생포했다. 이는 위연이 자신의 죄를 알고 해명할 수 없어서 후방의 군사를 정비하고 촉군을 유인하여 복병을 설치한 것이었다. 냉포를 포박하여 현덕의 진영으로 데려갔다. 현덕은 죽이지 말라는 깃발을 세우고, 항복하는 촉군은 죽이지 말고, 부상자는 치료하게 하였다. 또한 항복한 병사들에게 말했다. "너희 촉군도 부모와 처자가 있다. 항복하는 자는 군에 편입하고, 원하지 않는 자는 돌려보내겠다." 이에 환호성이 크게 일어났다. 황충은 진영을 정비하고 현덕을 찾아와 말했다. "위연이 군령을 어겼으니 참수해야 합니다." 현덕은 급히 위연을 불러들여 냉포를 데리고 오게 했다. 현덕이 말했다. "위연은 죄가 있으나, 이번 공으로 속죄할 수 있다." 위연에게 황충에게 생명의 은혜를 감사하라고 명하며, 앞으로 다투지 말라고 했다. 위연은 머리를 조아리며 죄를 인정했다. 현덕은 황충에게 크게 상을 내렸다. 냉포를 포박하여 현덕의 천막으로 데려가자, 현덕은 그의 포박을 풀고 술을 주며 물었다. "항복하겠느냐?" 냉포가 말했다. "이미 죽음을 면해주셨으니 어찌 항복하지 않겠습니까? 유괴와 장임은 제 생사를 함께한 친구입니다. 저를 돌려보내주시면 그들을 설득하여 낙성을 바치겠습니다." 현덕은 크게 기뻐하며 옷과 말을 주어 낙성으로 돌려보냈다. 위연이 말했다. "이 사람을 돌려보내서는 안 됩니다. 한 번 가면 돌아오지 않을 것입니다." 현덕이 말했다. "나는 인의로 사람을 대하니, 사람도 나를 배반하지 않을 것이다." 냉포는 낙성으로 돌아가 유괴와 장임을 만나 자신이 잡혔다가 풀려났다는 말을 하지 않고, 적을 열 명 넘게 죽이고 말과 무기를 빼앗아 돌아왔다고 거짓말했다. 유괴는 급히 사람을 보내 성도로 구원을 요청했다. 유장이 등현의 패배 소식을 듣고 크게 놀라 급히 사람들을 모아 의논했다. 장자 유순이 말했다. "제가 군사를 이끌고 낙성을 지키러 가겠습니다." 유장이 말했다. "내 아들이 가겠다니, 누가 보좌할 사람인가?" 한 사람이 나와 말했다. "제가 가겠습니다." 유장이 보니, 외삼촌 오의였다. 유장이 말했다. "외삼촌이 가주시면 좋겠소. 부장으로는 누구를 데려가겠소?" 오의가 오란과 뇌동 두 사람을 추천하여 부장으로 삼고, 이만 군사를 이끌고 낙성으로 갔다. 유괴와 장임이 맞이하여 전일의 일을 자세히 말했다. 오의가 말했다. "적군이 성 아래에 있으니 맞서기 어렵소. 어떤 계책이 있는가?" 냉포가 말했다. "이곳은 부강을 끼고 있어, 강물이 급히 흐릅니다. 앞쪽 진영은 산기슭에 있어 가장 낮은 곳입니다. 저에게 오천 군사를 주신다면 각각 삽과 괭이를 가지고 가서 부강의 물을 터뜨려 유비의 군사를 모두 물에 잠기게 하겠습니다." 오의가 그의 계책을 따르기로 하고, 냉포에게 물을 터뜨리게 하고 오란과 뇌동은 군사를 이끌고 지원하게 했다. 냉포는 명령을 받고 물을 터뜨릴 준비를 시작했다. 한편, 현덕은 황충과 위연에게 각각 진영을 지키게 하고 자신은 부성으로 돌아가 군사 방통과 의논했다. 정탐꾼이 보고했다. "동오의 손권이 사람을 보내 동천의 장로와 연합하여 가맹관을 공격하려 합니다." 현덕이 놀라 말했다. "가맹관을 잃으면 퇴로가 끊겨 진퇴양난에 빠질 것이다. 어떻게 해야 하나?" 방통이 맹달에게 말했다. "공은 촉 중의 사람으로 지리를 잘 아니, 가맹관을 지키러 가는 것이 어떠한가?" 맹달이 말했다. "한 사람을 데리고 가면 만에 하나도 틀림없을 것입니다." 현덕이 누구냐고 묻자, 맹달이 말했다. "이 사람은 형주 유표 밑에서 중랑장을 지낸 남군 지강 사람입니다. 성은 곽, 이름은 준, 자는 중막입니다." 현덕이 크게 기뻐하며 즉시 맹달과 곽준을 가맹관으로 보냈다. 방통이 군사들에게 말했다. "한 손님이 특별히 찾아왔다고 합니다." 방통이 나가 맞이하니, 그 사람은 키가 여덟 척이나 되고, 모습이 매우 위엄이 있었다. 머리는 짧게 깎고 목에 걸쳤으며, 옷은 단정하지 않았다. 방통이 물었다. "선생은 누구십니까?" 그 사람은 대답하지 않고 곧장 대청에 올라가 침상에 눕더니 눈을 감았다. 방통은 매우 의심스러워 다시 물었다. 그 사람이 말했다. "잠시 기다리라, 내가 천하 대사를 말해주겠다." 방통은 더욱 의심스러워 좌우에게 술과 음식을 가져오게 했다. 그 사람은 일어나 음식을 먹는데, 겸손하지 않았으며 많이 먹었다. 먹고 나서 다시 잠이 들었다. 방통은 의심이 가시지 않아 사람을 보내 법정을 불러 그를 보게 했다. 법정이 황급히 와서 방통을 맞이하며 말했다. "어떤 사람이 이렇게 이렇게 하고 있습니다." 법정이 올라가 그를 보자, 그 사람이 벌떡 일어나 말했다. "효직 별일 없었는가?"